{
  "listeners": [
    {
      "type": "dnsServer",
      "config": {
        "listen": "0.0.0.0",
        "port": "53",
        "protocol": "tcp"
      }
    },
    {
      "type": "dnsServer",
      "config": {
        "listen": "0.0.0.0",
        "port": "53",
        "protocol": "udp"
      }
    }
  ],
  "resolvers": {
    "cache": {
      "CachedGoogle": {
        "resolver": "Google-DoH",
        "maxEntries": 100000,
        "minTTL": 30,
        "maxTTL": 7200,
        "negativeTTL": 30,
        "cleanupInterval": 120,
        "serveStale": true,
        "staleDuration": 45,
        "ttlJitterPercent": 0.05,
        "prefetchThreshold": 15,
        "prefetchPercent": 0.9
      }
    },
    "concurrentNameServerList": {
      "Google-DoT": [
        "Google-DoT6-main",
        "Google-DoT6-backup",
        "Google-DoT4-main",
        "Google-DoT4-backup"
      ]
    },
    "doh": {
      "Google-DoH": {
        "url": "https://dns.google/dns-query",
        "urlResolver": "Google-DoT"
      }
    },
    "ecs": {
      "CachedGoogle-ECS-CMCC": {
        "resolver": "CachedGoogle",
        "ecsMode": "add",
        "ecsClientSubnet": "120.196.165.0/24"
      }
    },
    "nameServer": {
      "Google-DoT6-main": {
        "address": "2001:4860:4860::8888",
        "port": 853,
        "protocol": "tcp-tls",
        "tlsServerName": "dns.google"
      },
      "Google-DoT6-backup": {
        "address": "2001:4860:4860::8844",
        "port": 853,
        "protocol": "tcp-tls",
        "tlsServerName": "dns.google"
      },
      "Google-DoT4-main": {
        "address": "8.8.8.8",
        "port": 853,
        "protocol": "tcp-tls",
        "tlsServerName": "dns.google"
      },
      "Google-DoT4-backup": {
        "address": "8.8.4.4",
        "port": 853,
        "protocol": "tcp-tls",
        "tlsServerName": "dns.google"
      }
    },
    "sequence": {
    }
  },
  "rules": [
    {
      "type": "dnsmasqConf",
      "config": {
        "filePath": "accelerated-domains.china.conf",
        "resolver": "CachedGoogle-ECS-CMCC"
      }
    }
  ],
  "defaultResolver": "CachedGoogle"
}
