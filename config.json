{
  "listeners": [
    {
      "type": "dnsServer",
      "config": {
        "listen": "0.0.0.0",
        "port": "53",
        "protocol": "tcp"
      }
    },
    {
      "type": "dnsServer",
      "config": {
        "listen": "0.0.0.0",
        "port": "53",
        "protocol": "udp"
      }
    }
  ],
  "resolvers": {
    "cache": {
      "CachedCloudflare": {
        "resolver": "CloudflareDNS",
        "maxEntries": 10000,
        "minTTL": 60,
        "maxTTL": 3600,
        "negativeTTL": 300
      },
      "Cached114DNS": {
        "resolver": "114DNS",
        "maxEntries": 5000,
        "minTTL": 30,
        "maxTTL": 7200
      }
    },
    "concurrentNameServerList": {
      "CloudflareDNS": [
        "Cloudflare-DoT",
        "Cloudflare-DoH"
      ]
    },
    "doh": {
      "Cloudflare-DoH": {
        "url": "https://cloudflare-dns.com/dns-query",
        "urlResolver": {
          "type": "sequence",
          "config": [
            "CloudflareDNS",
            "114DNS"
          ]
        }
      }
    },
    "nameServer": {
      "114DNS-main": {
        "address": "114.114.114.114"
      },
      "114DNS-backup": {
        "address": "114.114.115.115"
      },
      "Cloudflare-DoT-main": {
        "address": "1.1.1.1",
        "port": 853,
        "protocol": "tcp-tls",
        "tlsServerName": "cloudflare-dns.com"
      },
      "Cloudflare-DoT-backup": {
        "address": "1.0.0.1",
        "port": 853,
        "protocol": "tcp-tls",
        "tlsServerName": "cloudflare-dns.com"
      }
    },
    "sequence": {
      "114DNS": [
        "114DNS-main",
        "114DNS-backup"
      ],
      "Cloudflare-DoT": [
        "Cloudflare-DoT-main",
        "Cloudflare-DoT-backup"
      ]
    }
  },
  "rules": [
    {
      "type": "dnsmasqConf",
      "config": {
        "filePath": "accelerated-domains.china.conf",
        "resolver": "Cached114DNS"
      }
    }
  ],
  "defaultResolver": "CachedCloudflare"
}
